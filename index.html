<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="./img/favicon.ico">

	<title>ProxyBuilder</title>

        <link href="./css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="./css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="./css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="./css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body class="homepage">

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href=".">ProxyBuilder</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="active">
                        <a href=".">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="dynamicproxy/">DynamicProxy</a>
                    </li>
                
                
                
                    <li >
                        <a href="objectadapter/">ObjectAdapter</a>
                    </li>
                
                
                
                    <li >
                        <a href="staticproxy/">StaticProxy</a>
                    </li>
                
                
                
                    <li >
                        <a href="projectinfos/">Projectinfos</a>
                    </li>
                
                
                
                    <li >
                        <a href="additionalinfos/">Additional Infos</a>
                    </li>
                
                
                
                    <li >
                        <a href="about/">About</a>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li class="disabled">
                        <a rel="next" >
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="dynamicproxy/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#welcome-to-proxybuilder">Welcome to ProxyBuilder</a></li>
        
            <li><a href="#what-are-proxies">What are Proxies ?</a></li>
        
            <li><a href="#what-goal-we-want-to-reach">What goal we want to reach?</a></li>
        
            <li><a href="#some-examples">Some Examples</a></li>
        
            <li><a href="#how-to-bootstrap-your-project">How to bootstrap your project?</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="welcome-to-proxybuilder">Welcome to ProxyBuilder<a class="headerlink" href="#welcome-to-proxybuilder" title="Permanent link">&para;</a></h1>
<p>Here we will describe the ProxyBuilder from <a href="https://github.com/ProxyBuilder/proxybuilder">github.com/ProxyBuilder/proxybuilder</a></p>
<h2 id="what-are-proxies">What are Proxies ?<a class="headerlink" href="#what-are-proxies" title="Permanent link">&para;</a></h2>
<p>If you want to have an overview of the Proxy-Pattern itself I can recommend
the following sources.</p>
<iframe src="//de.slideshare.net/slideshow/embed_code/key/qOl1Sz53XkmKTh" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>

<p><div style="margin-bottom:5px"> <strong> <a href="//de.slideshare.net/svenruppert/proxy-deepdive-javaone20151027001" title="JavaOne 2015 Tutorial - Proxy DeepDive" target="_blank">JavaOne 2015 Tutorial - Proxy DeepDive</a> </strong> from <strong><a target="_blank" href="//de.slideshare.net/svenruppert">Sven Ruppert</a></strong> </div></p>
<h2 id="what-goal-we-want-to-reach">What goal we want to reach?<a class="headerlink" href="#what-goal-we-want-to-reach" title="Permanent link">&para;</a></h2>
<p>This project was born, because I had to work a lot with old huge projects. The only thing I could relay on, is the pure JDK.
So I started playing with different DesignPatterns and figured out, that Proxies are one of the most powerfull patterngroup for me.
During the time I was writing the german Book <strong><em>"Dynamic Proxies"</em></strong> with <a href="http://www.javaspecialists.eu/">Dr. Heinz Kabutz</a> I started to write examples. Step by step the examples are more generic and the <strong><em>ProxyBuilder</em></strong> - project was born. </p>
<h2 id="some-examples">Some Examples<a class="headerlink" href="#some-examples" title="Permanent link">&para;</a></h2>
<p>To have an idea what you could do with the <strong><em>ProxyBuilder</em></strong> I will show here some examples. The more detailed 
informations you can find in the special sections of this website. This project is based on <strong><em>Java8</em></strong>.</p>
<h3 id="some-examples-with-dynamicproxies">Some Examples with DynamicProxies<a class="headerlink" href="#some-examples-with-dynamicproxies" title="Permanent link">&para;</a></h3>
<p>Here are some examples based on the <strong><em>DynamicProxy</em></strong>. But we have created <strong><em>generated static</em></strong> versions too...</p>
<h4 id="virtual-proxy">Virtual Proxy<a class="headerlink" href="#virtual-proxy" title="Permanent link">&para;</a></h4>
<pre><code class="java">final DemoLogic original = new DemoLogic();
final DemoInterface demoLogic = VirtualProxyBuilder
        .createBuilder(DemoInterface.class, original)
        .build();
</code></pre>

<h4 id="security-proxy">Security Proxy<a class="headerlink" href="#security-proxy" title="Permanent link">&para;</a></h4>
<pre><code class="java">final DemoLogic original = new DemoLogic();
final DemoInterface demoLogic = VirtualProxyBuilder
        .createBuilder(DemoInterface.class, original)
        .addSecurityRule(() -&gt; false)
        .build();
</code></pre>

<pre><code class="java">final InnerDemoClass original = new InnerDemoClass();
    final InnerDemoInterface demoLogic = VirtualProxyBuilder
        .createBuilder(InnerDemoInterface.class, original)
        .addSecurityRule(() -&gt; true)
        .addSecurityRule(() -&gt; true)
        .addSecurityRule(() -&gt; false)
        .build();
</code></pre>

<h4 id="metrics-proxy">Metrics Proxy<a class="headerlink" href="#metrics-proxy" title="Permanent link">&para;</a></h4>
<pre><code class="java">    final InnerDemoClass original = new InnerDemoClass();
    final InnerDemoInterface demoLogic = VirtualProxyBuilder
        .createBuilder(InnerDemoInterface.class, original)
        .addMetrics()
        .build();

</code></pre>

<h2 id="how-to-bootstrap-your-project">How to bootstrap your project?<a class="headerlink" href="#how-to-bootstrap-your-project" title="Permanent link">&para;</a></h2>
<p>If you want to be as near as possible at the actual development version, you could use this. If you need a more stable version
change the version numbers to the last stable one.</p>
<p>If you want to start with the <strong><em>DynamicProxyBuilder</em></strong> creating for example <strong><em>VirtualProxies</em></strong> bundled with some other things
you need the following dep in your pom.xml.</p>
<pre><code class="xml">    &lt;dependency&gt;
      &lt;groupId&gt;org.rapidpm.proxybuilder&lt;/groupId&gt;
      &lt;artifactId&gt;rapidpm-proxybuilder-modules-dynamic&lt;/artifactId&gt;
      &lt;version&gt;${rapidpm.version}&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre>

<p>The <strong><em>ProxyBuilder</em></strong> includes the <strong><em>Kotlin</em></strong> runtime libs and <strong><em>Metrics</em></strong> from Dropwizard. </p>
<h3 id="virtualproxy-with-one-preaction">VirtualProxy with one PreAction<a class="headerlink" href="#virtualproxy-with-one-preaction" title="Permanent link">&para;</a></h3>
<p>This will be a <strong><em>VirtualProxy</em></strong> with a <strong><em>PreAction</em></strong>. You can add as many <strong><em>PreActions</em></strong> as you need. 
Every <strong><em>PreAction</em></strong> will be executed before every method invocation in the order the <strong><em>PreAction</em></strong> was added.</p>
<pre><code class="java">public class ProxyDemoV001 {

  public static void main(String[] args) {

    final Service service = DynamicProxyBuilder
        .createBuilder(Service.class, new ServiceImpl())
        .addIPreAction((original, method, args1) 
                        -&gt; System.out.println(&quot; PreAction = &quot; + System.nanoTime()))
        .build();

    System.out.println(&quot;proxy created &quot; + System.nanoTime());
    System.out.println(&quot;s = &quot; + service.doWork(&quot;Go..&quot;));
  }

  public interface Service {
    String doWork(String str);
  }

  public static class ServiceImpl implements Service {
    public ServiceImpl() {
      System.out.println(&quot; ServiceImpl =&gt; constructor... &quot; + System.nanoTime());
    }

    @Override
    public String doWork(final String str) {
      return str + &quot; orig..&quot;;
    }
  }

}

</code></pre>

<h3 id="virtualproxy-with-metrics">VirtualProxy with Metrics<a class="headerlink" href="#virtualproxy-with-metrics" title="Permanent link">&para;</a></h3>
<pre><code class="java">public class ProxyDemoV002 {

  public static void main(String[] args) {
    RapidPMMetricsRegistry.getInstance().startConsoleReporter();

    final Service service = DynamicProxyBuilder
        .createBuilder(Service.class, new ServiceImpl())
        .addMetrics()
        .build();

    System.out.println(&quot;proxy created &quot; + System.nanoTime());
    final long count = IntStream.range(0, 10_000_000)
        .boxed()
        .map(i -&gt; service.doWork(&quot;Go..&quot; + i))
        .count();
    System.out.println(&quot;s = &quot; + service.doWork(&quot;Go..&quot;));
    System.out.println(&quot;count = &quot; + count);
  }


  public interface Service {
    String doWork(String str);
  }

  public static class ServiceImpl implements Service {
    public ServiceImpl() {
      System.out.println(&quot; ServiceImpl =&gt; constructor... &quot; + System.nanoTime());
    }
    @Override
    public String doWork(final String str) {
      return str + &quot; orig..&quot;;
    }
  }
}
</code></pre>

<p>To bootstrap your project with the latest SNAPSHOT you need to add the SNAPSHOT-repository that is available at maven - central.<br />
Here our <strong><em>TeamCity</em></strong> will push regularly the binaries. 
If you are using maven you could add the following to your <strong><em>settings.xml</em></strong> to get the snapshots that are available at maven-central. </p>
<pre><code class="xml">   &lt;profile&gt;
      &lt;id&gt;allow-snapshots&lt;/id&gt;
      &lt;activation&gt;
        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
      &lt;/activation&gt;
      &lt;repositories&gt;
        &lt;repository&gt;
          &lt;id&gt;snapshots-repo&lt;/id&gt;
          &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;
          &lt;releases&gt;
            &lt;enabled&gt;false&lt;/enabled&gt;
          &lt;/releases&gt;
          &lt;snapshots&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
            &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
          &lt;/snapshots&gt;
        &lt;/repository&gt;
      &lt;/repositories&gt;
    &lt;/profile&gt;
</code></pre></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="./js/jquery-1.10.2.min.js"></script>
        <script src="./js/bootstrap-3.0.3.min.js"></script>
        <script src="./js/highlight.pack.js"></script>
        <script>var base_url = '.';</script>
        <script data-main="./mkdocs/js/search.js" src="./mkdocs/js/require.js"></script>
        <script src="./js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>

<!--
MkDocs version : 0.14.0
Build Date UTC : 2016-03-07 11:10:59.041372
-->
